
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
    
    <title>HDF4 — Hierarchical Data Format Version 4 (HDF4) &mdash; GDAL v1.9.0 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.9.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="top" title="GDAL v1.9.0 documentation" href="../../index.html" />
    <link rel="up" title="Formats" href="index.html" />
    <link rel="next" title="HDF5 — Hierarchical Data Format Release 5 (HDF5)" href="hdf5.html" />
    <link rel="prev" title="Le format Gtiff" href="gtiff.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="hdf5.html" title="HDF5 — Hierarchical Data Format Release 5 (HDF5)"
             accesskey="N">suivant</a></li>
        <li class="right" >
          <a href="gtiff.html" title="Le format Gtiff"
             accesskey="P">précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >GDAL</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Formats</a> &raquo;</li> 
      </ul>
    </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table des matières</a></h3>
            <ul>
<li><a class="reference internal" href="#">HDF4 &#8212; Hierarchical Data Format Version 4 (HDF4)</a><ul>
<li><a class="reference internal" href="#gestion-des-images-multiple-sous-ensemble-de-donnees">Gestion des Images Multiple (Sous-ensemble de données)</a></li>
<li><a class="reference internal" href="#geo-referencement">Géo-référencement</a></li>
<li><a class="reference internal" href="#problemes-de-creation">Problèmes de création</a></li>
<li><a class="reference internal" href="#meta-donnees">Méta-données</a></li>
<li><a class="reference internal" href="#compilation-du-pilote">Compilation du pilote</a></li>
<li><a class="reference internal" href="#voir-aussi">Voir aussi</a></li>
</ul>
</li>
</ul>

            <h4>Sujet précédent</h4>
            <p class="topless"><a href="gtiff.html"
                                  title="Chapitre précédent">Le format Gtiff</a></p>
            <h4>Sujet suivant</h4>
            <p class="topless"><a href="hdf5.html"
                                  title="Chapitre suivant">HDF5 &#8212; Hierarchical Data Format Release 5 (HDF5)</a></p>
            <h3>Cette page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/gdal/formats/hdf4.txt"
                     rel="nofollow">Montrer la source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Recherche rapide</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="hdf4-hierarchical-data-format-version-4-hdf4">
<span id="gdal-gdal-formats-hdf4"></span><h1>HDF4 &#8212; Hierarchical Data Format Version 4 (HDF4)<a class="headerlink" href="#hdf4-hierarchical-data-format-version-4-hdf4" title="Lien permanent vers ce titre">¶</a></h1>
<p>Il y a deux formats HDF (4.x et les versions antérieures) et HFD5. Ces formats
sont complètement différents et incompatible. Ce pilote a été destiné uniquement
pour l&#8217;importation des formats de fichier HDF4. Le Système d&#8217;Observation de la
Terre (EOS,  Earth Observing System) de la NASA maintient ses propres
modifications HDF appelé HDF-EOS. Ces modifications convient pour les données de
capteur distant et est pleinement compatible avec  la base du HDF. Ce pilote
peut importer  des fichiers HDF4-EOS. Pour l&#8217;instant EOS utilise HDF4-EOS pour
le stockage des données (satellites télémétrique de type &#8216;Terra&#8217; et &#8216;Aqua&#8217;).
Dans le futur ils passeront au format HDF5-EOS, qui sera utilisé pour le
satellite télémétrique de type &#8216;Aura&#8217;.</p>
<div class="section" id="gestion-des-images-multiple-sous-ensemble-de-donnees">
<h2>Gestion des Images Multiple (Sous-ensemble de données)<a class="headerlink" href="#gestion-des-images-multiple-sous-ensemble-de-donnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le Format de Données Hiérarchique (HDF) est un conteneur pour différents
sous-ensemble de données. Pour les données stockant des sous-ensemble de Données
Scientifique (SDS, Scientific Datasets) est utilisé le plus souvent. SDS est un
tableau multi-dimensionnel  remplit de données. Un fichier HDF peut contenir
différents tableaux SDS. Ceux-ci peuvent se différencier par la taille, le
nombre de dimensions et peuvent représenter des données de région différentes.</p>
<p>Si le fichier contient seulement un SDS qui apparaît être une image, il peut
accessible normalement, mais s&#8217;il contient des images multiples, il peut être
nécessaire d&#8217;importer le fichier via une procédure en deux étapes. La première
est d&#8217;obtenir un rapport des composantes images (tableaux SDS) du fichier avec
<tt class="docutils literal"><span class="pre">gdalinfo</span></tt>, puis d&#8217;importer les images désirées avec <tt class="docutils literal"><span class="pre">gdal_translate</span></tt>. La
commande <tt class="docutils literal"><span class="pre">gdalinfo</span></tt> liste tous les sous-ensembles de données
multi-dimensionnelles à partir du fichier HDF en entrée. Le nom des images
individuelles (sous-ensemble de données) sont assignés à l&#8217;objet méta-données
<strong>SUBDATASET_n_NAME</strong>. La description de chaque image est trouvé dans l&#8217;objet
méta-données <strong>SUBDATASET_n_DESC</strong>. Pour les images HDF4, le nom du sous-ensemble
de données sera formaté comme suit :</p>
<div class="highlight-python"><pre>//HDF4_SDS:subdataset_type:file_name:subdataset_index//</pre>
</div>
<p>où <tt class="docutils literal"><span class="pre">subdataset_type</span></tt> montre des noms prédéfinis pour quelques sous-ensemble
de données HDF bien connus,  <tt class="docutils literal"><span class="pre">file_name</span></tt> est le nom du fichier en entrée et
<tt class="docutils literal"><span class="pre">subdataset_index</span></tt> est l&#8217;index de l&#8217;image à utiliser (pour utilisation interne
dans GDAL).</p>
<p>Pour la seconde étape, vous devez fournir ce nom à <tt class="docutils literal"><span class="pre">gdalinfo</span></tt> ou
<tt class="docutils literal"><span class="pre">gdal_translate</span></tt> pour la lecture des données.
Par exemple, nous voulons lire des données à partir du sous-ensemble de données
MODIS Level 1B :</p>
<div class="highlight-python"><pre>$ gdalinfo GSUB1.A2001124.0855.003.200219309451.hdf
Driver: HDF4/Hierarchical Data Format Release 4
Size is 512, 512
Coordinate System is `'
Metadata:
    HDFEOSVersion=HDFEOS_V2.7
    Number of Scans=204
    Number of Day mode scans=204
    Number of Night mode scans=0
    Incomplete Scans=0
...beaucoup de méta-données sautées ...
Subdatasets:
    SUBDATASET_1_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:0
    SUBDATASET_1_DESC=[408x271] Latitude (32-bit floating-point)
    SUBDATASET_2_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:1
    SUBDATASET_2_DESC=[408x271] Longitude (32-bit floating-point)
    SUBDATASET_3_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:2
    SUBDATASET_3_DESC=[12x2040x1354] EV_1KM_RefSB (16-bit unsigned integer)
    SUBDATASET_4_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:3
    SUBDATASET_4_DESC=[12x2040x1354] EV_1KM_RefSB_Uncert_Indexes (8-bit unsigned integer)
    SUBDATASET_5_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:4
    SUBDATASET_5_DESC=[408x271] Height (16-bit integer)
    SUBDATASET_6_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:5
    SUBDATASET_6_DESC=[408x271] SensorZenith (16-bit integer)
    SUBDATASET_7_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:6
    SUBDATASET_7_DESC=[408x271] SensorAzimuth (16-bit integer)
    SUBDATASET_8_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:7
    SUBDATASET_8_DESC=[408x271] Range (16-bit unsigned integer)
    SUBDATASET_9_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:8
    SUBDATASET_9_DESC=[408x271] SolarZenith (16-bit integer)
    SUBDATASET_10_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:9
    SUBDATASET_10_DESC=[408x271] SolarAzimuth (16-bit integer)
    SUBDATASET_11_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:10
    SUBDATASET_11_DESC=[408x271] gflags (8-bit unsigned integer)
    SUBDATASET_12_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:12
    SUBDATASET_12_DESC=[16x10] Noise in Thermal Detectors (8-bit unsigned integer)
    SUBDATASET_13_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:13
    SUBDATASET_13_DESC=[16x10] Change in relative responses of thermal detectors (8-bit unsigned integer)
    SUBDATASET_14_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:14
    SUBDATASET_14_DESC=[204x16x10] DC Restore Change for Thermal Bands (8-bit integer)
    SUBDATASET_15_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:15
    SUBDATASET_15_DESC=[204x2x40] DC Restore Change for Reflective 250m Bands (8-bit integer)
    SUBDATASET_16_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:16
    SUBDATASET_16_DESC=[204x5x20] DC Restore Change for Reflective 500m Bands (8-bit integer)
    SUBDATASET_17_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:17
    SUBDATASET_17_DESC=[204x15x10] DC Restore Change for Reflective 1km Bands (8-bit integer)
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  512.0)
Upper Right (  512.0,    0.0)
Lower Right (  512.0,  512.0)
Center      (  256.0,  256.0)</pre>
</div>
<p>Maintenant sélectionnons un sous-ensemble de données, décrit comme
[12x2040x1354] EV_1KM_RefSB (16-bit unsigned integer) :</p>
<div class="highlight-python"><pre>$ gdalinfo HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:2
Driver: HDF4Image/HDF4 Internal Dataset
Size is 1354, 2040
Coordinate System is `'
Metadata:
    long_name=Earth View 1KM Reflective Solar Bands Scaled Integers
...méta-données sautées ...
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 2040.0)
Upper Right ( 1354.0,    0.0)
Lower Right ( 1354.0, 2040.0)
Center      (  677.0, 1020.0)
Band 1 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 2 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 3 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 4 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 5 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 6 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 7 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 8 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 9 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 10 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 11 Block=1354x2040 Type=UInt16, ColorInterp=Undefined
Band 12 Block=1354x2040 Type=UInt16, ColorInterp=Undefined</pre>
</div>
<p>Ou vous pouvez utiliser <tt class="docutils literal"><span class="pre">gdal_translate</span></tt> pour lire les bandes de l&#8217;image à
partir de ce sous-ensemble de données.
Notez que vous devez fournir exactement le contenu de la ligne marqué
<strong>SUBDATASET_n_NAME</strong> à GDAL, en incluant le préfixe <tt class="docutils literal"><span class="pre">HDF4_SDS:</span></tt>.</p>
<p>Ce pilote a seulement pour but d&#8217;importer des sous-ensembles de capteur distant
et géospatiale sous forme d&#8217;image raster. Si vous voulez explorer toutes les
données contenu dans un fichier HDF vous devez utiliser un autre outil (vous
pouvez trouver des informations sur différents outils HDF en utilisant les
liens à la fin de cette section).</p>
</div>
<div class="section" id="geo-referencement">
<h2>Géo-référencement<a class="headerlink" href="#geo-referencement" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il n&#8217;y a pas de manière universelle pour stocker le géo-référencement dans les
fichiers HDF. Cependant, certains types de produits ont des mécanismes pour
sauvegarder le géo-référencement, et certains sont gérés par GDAL. Pour
l&#8217;instant, sont supportés (subdataset_type est indiqué entre parenthèses) :</p>
<ul class="simple">
<li>fichiers HDF4 créés par GDAL (<strong>GDAL_HDF4</strong>)</li>
<li>ASTER Level 1A (<strong>ASTER_L1A</strong>)</li>
<li>ASTER Level 1B (<strong>ASTER_L1B</strong>)</li>
<li>ASTER Level 2 (<strong>ASTER_L2</strong>)</li>
<li>ASTER DEM (<strong>AST14DEM</strong>)</li>
<li>MODIS Level 1B Earth View products (<strong>MODIS_L1B</strong>)</li>
<li>MODIS Level 3 products (<strong>MODIS_L3</strong>)</li>
<li>SeaWiFS Level 3 Standard Mapped Image Products (<strong>SEAWIFS_L3</strong>)</li>
</ul>
<p>Par défaut le pilote hdf4 lit seulement les points d&#8217;amer à partir de toutes les
10 lignes et colonne à partir du jeu de données EOS_SWATH. Vous pouvez changer
ce comportement en définissant la variable d&#8217;environnement <em>GEOL_AS_GCPS</em> à
PARTIAL (défaut), NONE, ou FULL.</p>
</div>
<div class="section" id="problemes-de-creation">
<h2>Problèmes de création<a class="headerlink" href="#problemes-de-creation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce pilote support la création des ensembles de données Scientifique HDF4. Vous
pouvez créer un ensemble de données 2D (un pour chaque bande en entrée) ou un
simple ensemble de données 3D ou la 3ème dimension représente le numéro de la
bande. Toutes les méta-données et les descriptions des bandes des ensembles de
données en entrée sont stockés comme des attributs HDF4. Les informations de
projection (s&#8217;ils existent) et les coefficients de transformation affine sont
aussi stockés sous forme d&#8217;attributs. Les fichiers créés par GDAL ont un
attribut spécial :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;Signature=Created with GDAL (http://www.remotesensing.org/gdal/)&quot;</span>
</pre></div>
</div>
<p>et sont automatiquement reconnus lors de la lecture, ainsi les informations de
projections et la matrice de transformation sont restaurés.</p>
<p><strong>Options de création :</strong></p>
<ul class="simple">
<li><strong>RANK=n :</strong> créé un SDS à n-dimension. Pour l&#8217;instant seul les ensembles de
données 2D et 3D sont gérés. Par défaut un ensemble de données à 3 dimensions
sera créée.</li>
</ul>
</div>
<div class="section" id="meta-donnees">
<h2>Méta-données<a class="headerlink" href="#meta-donnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Tous les attributs HDF4 sont traduit en transparence comme des méta-données
GDAL. Dans les fichiers HDF, les  attributs peuvent être assigné à l&#8217;ensemble
du fichier autant qu&#8217;à des sous-ensemble de données particuliers.</p>
</div>
<div class="section" id="compilation-du-pilote">
<h2>Compilation du pilote<a class="headerlink" href="#compilation-du-pilote" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce pilote a été compilé au plus haut de la bibliothèque NCSA HDF, vous avez donc
besoin de compiler GDAL avec le support HDF4. Vous pouvez chercher un binaire
pré-compilé pour votre distribution ou télécharger le code source ou les
binaires de la page de NCSA HDF (voyez les liens ci-dessous).</p>
<p>Noter que la bibliothèque NCS HDF a été compilé avec de nombreux paramètres par
défaut dans le fichier <em>hlimits.h</em>. Par exemple, <em>hlimits.h</em> définie le nombre
maximal de fichiers ouverts :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#   define MAX_FILE   32</span>
</pre></div>
</div>
<p>Si vous avez besoin d&#8217;ouvrir plus de fichier HDF4 simultanément, vous devez
changer cette valeur et recompiler la bibliothèque HDF4 (et relier GDAL si vous
utilisez des bibliothèques HDF statiques).</p>
</div>
<div class="section" id="voir-aussi">
<h2>Voir aussi<a class="headerlink" href="#voir-aussi" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li>Implémenté comme <em>gdal/frmts/hdf4/hdf4dataset.cpp</em> et <em>gdal/frmts/hdf4/hdf4imagedataset.cpp</em>.</li>
<li><a class="reference external" href="http://www.hdfgroup.org/">Group HDF</a></li>
<li>Sources de donnée aux formats HDF4 et HDF4-EOS :
- <a class="reference external" href="http://edcimswww.cr.usgs.gov/pub/imswelcome/">Earth Observing System Data Gateway</a></li>
<li>Documentation de produits individuels, géré par ce pilote :
- <a class="reference external" href="http://edcdaac.usgs.gov/aster/ASTER_GeoRef_FINAL.pdf">Geo-Referencing ASTER L1B Data</a>
- <a class="reference external" href="http://asterweb.jpl.nasa.gov/documents/ASTERHigherLevelUserGuideVer2May01.pdf">ASTER Standard Data Product Specifications Document</a>
- <a class="reference external" href="http://www.mcst.ssai.biz/mcstweb/L1B/product.html">MODIS Level 1B Product Information and Status</a>
- <a class="reference external" href="http://modis-ocean.gsfc.nasa.gov/userguide.html">MODIS Ocean User&#8217;s Guide</a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>


      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="hdf5.html" title="HDF5 — Hierarchical Data Format Release 5 (HDF5)"
             >suivant</a></li>
        <li class="right" >
          <a href="gtiff.html" title="Le format Gtiff"
             >précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >GDAL</a> &raquo;</li>
          <li><a href="index.html" >Formats</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    <a href="http://creativecommons.org/licenses/by/2.0/fr/deed.fr">Licence Creative Common BY</a>
    <!--
      &copy; Copyright 2011, Yves Jacolin.-->
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>