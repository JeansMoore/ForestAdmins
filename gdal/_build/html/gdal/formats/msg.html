
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
    
    <title>MSG – Météosat Seconde Génération &mdash; GDAL v1.9.0 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.9.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="top" title="GDAL v1.9.0 documentation" href="../../index.html" />
    <link rel="up" title="Formats" href="index.html" />
    <link rel="next" title="MSGN – Meteosat Second Generation (MSG) Format Natif d’Archive (.nat)" href="msgn.html" />
    <link rel="prev" title="Compression Lidar de MrSID/MG4 / Fichiers view de Cloud ponctuel" href="mrsid_lidar.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="msgn.html" title="MSGN – Meteosat Second Generation (MSG) Format Natif d’Archive (.nat)"
             accesskey="N">suivant</a></li>
        <li class="right" >
          <a href="mrsid_lidar.html" title="Compression Lidar de MrSID/MG4 / Fichiers view de Cloud ponctuel"
             accesskey="P">précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >GDAL</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Formats</a> &raquo;</li> 
      </ul>
    </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table des matières</a></h3>
            <ul>
<li><a class="reference internal" href="#">MSG &#8211; Météosat Seconde Génération</a><ul>
<li><a class="reference internal" href="#id1">Instructions de compilation</a></li>
<li><a class="reference internal" href="#specification-des-sources-des-jeux-de-donnees">Spécification des sources des jeux de données</a></li>
<li><a class="reference internal" href="#georeferencement-et-projection">Géoréférencement et projection</a></li>
</ul>
</li>
</ul>

            <h4>Sujet précédent</h4>
            <p class="topless"><a href="mrsid_lidar.html"
                                  title="Chapitre précédent">Compression Lidar de MrSID/MG4 / Fichiers view de Cloud ponctuel</a></p>
            <h4>Sujet suivant</h4>
            <p class="topless"><a href="msgn.html"
                                  title="Chapitre suivant">MSGN &#8211; Meteosat Second Generation (MSG) Format Natif d&#8217;Archive (.nat)</a></p>
            <h3>Cette page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/gdal/formats/msg.txt"
                     rel="nofollow">Montrer la source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Recherche rapide</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="msg-meteosat-seconde-generation">
<span id="gdal-gdal-formats-msg"></span><h1>MSG &#8211; Météosat Seconde Génération<a class="headerlink" href="#msg-meteosat-seconde-generation" title="Lien permanent vers ce titre">¶</a></h1>
<p>Ce pilote implémente la gestion de la lecture pour les fichiers  Meteosat
Second Generation. Le nom de ces fichiers sont du type
<em>H-000-MSG1__-MSG1________-HRV______-000007___-200405311115-C_</em>, distribué
habituellement dans une structure arborescente avec des dates (par exemple
2004/05/31 pour le fichier mentionné).</p>
<p>Les fichiers MSG sont compressé par ondelette. Une bibliothèque sous licence
<a class="reference external" href="http://www.eumetsat.int/">Eumetsat</a> est nécessaire
(« Wavelet Transform Software » - <a class="reference external" href="http://www.eumetsat.int/en/dps/helpdesk/tools.html#wavelet">http://www.eumetsat.int/en/dps/helpdesk/tools.html#wavelet</a>).
Le logiciel est compatible sous les systèmes Microsoft Windows, Linux et
Solaris, et il fonctionne sous 32 bits et 64 bits ainsi que les architectures
mélangées. Elle est sous licence logiciel et est disponible après acceptation
de la licence logiciel WaveLet Transform lors d&#8217;une procédure électronique.</p>
<p>Une partie des sources du fichier <em>xrithdr_extr.c</em> provenant  XRIT2PIC est
utilisé pour parser les en-têtes MSG. Ces sources sont sous licence GNU General
Public Licence publié par la Fondation Free Software.</p>
<p>Ce pilote n&#8217;est pas activé par défaut. Lisez la partie « <a class="reference external" href="http://www.gdal.org/frmt_msg.html#MSG_Build_Instructions">instructions de compilation</a> » pour la manière
d&#8217;inclure ce pilote dans votre bibliothèque GDAL.</p>
<div class="section" id="id1">
<h2>Instructions de compilation<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h2>
<p>Téléchargez la bibliothèque Eumestat pour la décompression par ondelette. C&#8217;est
un fichier nommé PublicDecompWt.zip. Décompressez son contenu dans un
sous-répertoire avec le même nom (dans frmts/msg).</p>
<p>Si vous compilez avec Visual Studio 6.0, décompressez le makefiles .vc pour
<em>PublicDecompWT</em> à partir du fichier  <em>PublicDecompWTMakefiles.zip</em>.</p>
<p>Si vous compilez en utilisant GNUMakefile, utilisez l&#8217;option <tt class="docutils literal"><span class="pre">--with-msg</span></tt> pour
activer le pilote MSG :</p>
<div class="highlight-python"><pre>./configure --with-msg</pre>
</div>
<p>S&#8217;il se trouve que certain ajustement soit nécessaire dans le makefile et/ou
les fichiers sources, s&#8217;il vous plaît commitez&#8221; les. La bibliothèque Eumetsat
promet d&#8217;être indépendant de la plateforme, mais puisque nous travaillons sous
Microsfot Windows et Visual Studio 6.0, nous n&#8217;avons pas la possibilité de
vérifier si l&#8217;ensemble du pilote msg l&#8217;est. De plus, appliquez les étapes 4 à 7
du <a class="reference external" href="http://www.gdal.org/gdal_drivertut.html">tutorial d&#8217;Implémentation du pilote de GDAL</a>,
section &#8220;Ajouter un pilote à l&#8217;arbre de GDAL&#8221;.</p>
<p>Le wiki de MSG est disponible sur <a class="reference external" href="http://trac.osgeo.org/gdal/wiki/MSG">http://trac.osgeo.org/gdal/wiki/MSG</a>. Il est
dédié à la documentation de la compilation et astuce d&#8217;usage.</p>
</div>
<div class="section" id="specification-des-sources-des-jeux-de-donnees">
<h2>Spécification des sources des jeux de données<a class="headerlink" href="#specification-des-sources-des-jeux-de-donnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il est possible de sélectionner des fichiers individuels pour l&#8217;ouverture. Dans
ce cas, le pilote collectera les fichiers qui correspondent aux autres bandes
de la même image, et composera correctement l&#8217;image.</p>
<p><strong>Exemple avec gdal_translate.exe :</strong></p>
<div class="highlight-python"><pre>gdal_translate C:\hrit_a\2004\05\31\H-000-MSG1__-MSG1________-HRV______-000008___-200405311115-C_ c:\output\myimage.tif</pre>
</div>
<p>Il est également possible d&#8217;utiliser la syntaxe suivantes pour l&#8217;ouverture des
fichiers MSG :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">MSG</span><span class="p">(</span><span class="n">source_folder</span><span class="p">,</span><span class="n">timestamp</span><span class="p">,(</span><span class="n">canal</span><span class="p">,</span><span class="n">canal</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="n">canal</span><span class="p">),</span><span class="n">use_root_folder</span><span class="p">,</span><span class="n">data_conversion</span><span class="p">,</span><span class="n">nr_cycles</span><span class="p">,</span><span class="n">step</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">source_folder</span></tt> : un chemin vers la structure arborescente qui contient
les fichiers.</li>
<li><tt class="docutils literal"><span class="pre">timestamp</span></tt> : 12 digits représentant une date/heure qui identifie les 114
fichiers des 12 images de cette heure, par exemple 200501181200</li>
<li><tt class="docutils literal"><span class="pre">canal</span></tt> : un nombre compris entre 1 et 12, représentant chacun des 12 canaux
disponibles. Lorsqu&#8217;un seul canal est disponible, les crochets sont optionnels.</li>
</ul>
<p>use_root_folder : Y pour indiquer que les fichiers résident directement à la
racine du répertoire source_folder définie. N pour indiquer que les fichiers
résident dans les répertoires structurés en date : source_folder/YYYY/MM/DD</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">data_conversion</span></tt> :<ul>
<li><tt class="docutils literal"><span class="pre">N</span></tt> pour garder les valeurs DN originelles de 10 bits. Le résultat est
UInt16.</li>
<li><tt class="docutils literal"><span class="pre">B</span></tt> pour convertir en 8 bits (commode pour les images GIF et JPEG). Le
résultat est en Byte.</li>
<li><tt class="docutils literal"><span class="pre">R</span></tt> pour réaliser des calibration radio-métrique et obtenir le résultat
en mW/m2/sr/(cm-1)-1. Le résultat est Float32.</li>
<li><tt class="docutils literal"><span class="pre">L</span></tt> pour réaliser des calibrations radio-métrique et obtenir les résultat
en W/m2/sr/um. Le résultat est Float32.</li>
<li><tt class="docutils literal"><span class="pre">T</span></tt> pour obtenir la réflectivité pour les bandes visible (1, 2, 3 et 12)
et la température en degré Kelvin pour les bandes infrarouges (toutes les
autres bandes). Le résultat est Float32.</li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">nr_cycles</span></tt> : un nombre qui indique le nombre de cycles consécutifs pour
être inclus dans le même fichier (séries temporelle). Ceux-ci sont ajouté aux
bandes additionnelles.</li>
<li><tt class="docutils literal"><span class="pre">step</span></tt> : un nombre qui indique quelle est la taille de l&#8217;étape quand des
cycles multiples sont choisit. Par exemple : toutes les 15 minutes : step = 1,
toutes les 30 minutes : step = 2 etc. Notez que les cycles sont des multiple
de 15, vous ne pouvez donc pas avoir des images entre ces moments (step est
un entier).</li>
</ul>
<p><strong>Exemples avec gdal_translate.exe :</strong></p>
<p>Exemple d&#8217;appel pour récupérer une image MSG 200501181200 avec des bandes 1, 2
et 3 au format IMG :</p>
<div class="highlight-python"><pre>gdal_translate -of HFA MSG(\\pc2133-24002\RawData\,200501181200,(1,2,3),N,N,1,1) d:\output\outfile.img</pre>
</div>
<p>Au format JPG, et convertir des images e 10 bites en image 8 bits en divisant
toutes les valeurs par 4 :</p>
<div class="highlight-python"><pre>gdal_translate -of JPEG MSG(\\pc2133-24002\RawData\,200501181200,(1,2,3),N,B,1,1) d:\output\outfile.jpg</pre>
</div>
<p>Même chose, mais en réordonnant les bandes dans l&#8217;image JPEG pour ressembler à
une image RVB :</p>
<div class="highlight-python"><pre>gdal_translate -of JPEG MSG(\\pc2133-24002\RawData\,200501181200,(3,2,1),N,B,1,1) d:\output\outfile.jpg</pre>
</div>
<p>Sortie Geotiff, seule la bande 2, valeurs originales en 10 bits :</p>
<div class="highlight-python"><pre>gdal_translate -of GTiff MSG(\\pc2133-24002\RawData\,200501181200,2,N,N,1,1) d:\output\outfile.tif</pre>
</div>
<p>Bande 12 :</p>
<div class="highlight-python"><pre>gdal_translate -of GTiff MSG(\\pc2133-24002\RawData\,200501181200,12,N,N,1,1) d:\output\outfile.tif</pre>
</div>
<p>La même bande 12 avec une calibration radiométrique en mW/m2/sr/(cm-1)-1 :</p>
<div class="highlight-python"><pre>gdal_translate -of GTiff MSG(\\pc2133-24002\RawData\,200501181200,12,N,R,1,1) d:\output\outfile.tif</pre>
</div>
<p>Récupérer les données de c:hrit-data20050118 au lieu de
\pc2133-24002RawData... :</p>
<div class="highlight-python"><pre>gdal_translate -of GTiff MSG(c:\hrit-data\2005\01\18,200501181200,12,Y,R,1,1) d:\output\outfile.tif</pre>
</div>
<p>Autre option pour faire la même chose (notez la différence dans le Y et le N
pour l&#8217;utilisation du paramètre “use_root_folder” :</p>
<div class="highlight-python"><pre>gdal_translate -of GTiff MSG(c:\hrit-data\,200501181200,12,N,R,1,1) d:\output\outfile.tif</pre>
</div>
<p>Sans calibration radiométrique, mais pour 10 cycles consécutifs (donc de 1200 à
1415) :</p>
<div class="highlight-python"><pre>gdal_translate -of GTiff MSG(c:\hrit-data\,200501181200,12,N,N,10,1) d:\output\outfile.tif</pre>
</div>
<p>10 cycles,mais toutes les heures (donc de 1200 à 2100) :</p>
<div class="highlight-python"><pre>gdal_translate -of GTiff MSG(c:\hrit-data\,200501181200,12,N,N,10,4) d:\output\outfile.tif</pre>
</div>
<p>10 cycles, toutes les heures, et les bandes 3, 2 et 1 :</p>
<div class="highlight-python"><pre>gdal_translate -of GTiff MSG(c:\hrit-data\,200501181200,(3,2,1),N,N,10,4) d:\output\outfile.tif</pre>
</div>
</div>
<div class="section" id="georeferencement-et-projection">
<h2>Géoréférencement et projection<a class="headerlink" href="#georeferencement-et-projection" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les images utilisent la projection de vue satellites géo-stationnaires. La
plupart des logiciels SIG ne reconnaissent pas cette projection (nous savons
seulement que le logiciel ILWIS possède cette projection), mais <tt class="docutils literal"><span class="pre">gdalwarp.exe</span></tt>
peut être utilisé pour reprojeter les images.</p>
<p><strong>Lisez également :</strong></p>
<ul class="simple">
<li>Implémenté dans <em>gdal/frmts/msg/msgdataset.cpp</em>.</li>
<li><a class="reference external" href="http://www.eumetsat.int">http://www.eumetsat.int</a> - Organisation Européenne pour l&#8217;Exploitation  des Satellites Météorologique</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>


      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="msgn.html" title="MSGN – Meteosat Second Generation (MSG) Format Natif d’Archive (.nat)"
             >suivant</a></li>
        <li class="right" >
          <a href="mrsid_lidar.html" title="Compression Lidar de MrSID/MG4 / Fichiers view de Cloud ponctuel"
             >précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >GDAL</a> &raquo;</li>
          <li><a href="index.html" >Formats</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    <a href="http://creativecommons.org/licenses/by/2.0/fr/deed.fr">Licence Creative Common BY</a>
    <!--
      &copy; Copyright 2011, Yves Jacolin.-->
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>