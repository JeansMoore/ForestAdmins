
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
    
    <title>NetCDF : Network Common Data Form &mdash; GDAL v1.9.0 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.9.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="top" title="GDAL v1.9.0 documentation" href="../../index.html" />
    <link rel="up" title="Formats" href="index.html" />
    <link rel="next" title="NITF – National Imagery Transmission Format" href="nitf.html" />
    <link rel="prev" title="MSGN – Meteosat Second Generation (MSG) Format Natif d’Archive (.nat)" href="msgn.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="nitf.html" title="NITF – National Imagery Transmission Format"
             accesskey="N">suivant</a></li>
        <li class="right" >
          <a href="msgn.html" title="MSGN – Meteosat Second Generation (MSG) Format Natif d’Archive (.nat)"
             accesskey="P">précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >GDAL</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Formats</a> &raquo;</li> 
      </ul>
    </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table des matières</a></h3>
            <ul>
<li><a class="reference internal" href="#">NetCDF : Network Common Data Form</a><ul>
<li><a class="reference internal" href="#multiple-image-handling-sous-jeu-de-donnees">Multiple Image Handling (sous-jeu de données)</a></li>
<li><a class="reference internal" href="#dimension">Dimension</a></li>
<li><a class="reference internal" href="#georeferencement">Géoréférencement</a></li>
<li><a class="reference internal" href="#problemes-de-creations">Problèmes de créations</a></li>
<li><a class="reference internal" href="#meta-donnees-gdal-pour-netcdf">Méta-données GDAL pour NetCDF</a></li>
<li><a class="reference internal" href="#compilation-du-pilote">Compilation du pilote</a></li>
<li><a class="reference internal" href="#voir-egalement">Voir également</a></li>
</ul>
</li>
</ul>

            <h4>Sujet précédent</h4>
            <p class="topless"><a href="msgn.html"
                                  title="Chapitre précédent">MSGN &#8211; Meteosat Second Generation (MSG) Format Natif d&#8217;Archive (.nat)</a></p>
            <h4>Sujet suivant</h4>
            <p class="topless"><a href="nitf.html"
                                  title="Chapitre suivant">NITF &#8211; National Imagery Transmission Format</a></p>
            <h3>Cette page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/gdal/formats/netcdf.txt"
                     rel="nofollow">Montrer la source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Recherche rapide</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="netcdf-network-common-data-form">
<span id="gdal-gdal-formats-netcdf"></span><h1>NetCDF : Network Common Data Form<a class="headerlink" href="#netcdf-network-common-data-form" title="Lien permanent vers ce titre">¶</a></h1>
<p>Ce format est géré en lecture et écriture. NetCDF est une interface pour
l&#8217;accès au données orienté &#8216;tableau&#8217; et est utilisé pour représenter des données
scientifique.</p>
<p>Les méta-données des valeurs rempli ou la compatibilité arrière des valeurs
manquantes sont préservés comme valeur NODATA lorsque cela est disponible.</p>
<p><strong>Note :</strong> Implémenté dans <em>gdal/frmts/netcdf/netcdfdataset.cpp</em>.</p>
<div class="section" id="multiple-image-handling-sous-jeu-de-donnees">
<h2>Multiple Image Handling (sous-jeu de données)<a class="headerlink" href="#multiple-image-handling-sous-jeu-de-donnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Nework Command Data Form est un conteneur pour plusieurs tableaux différents la
plupart du temps utilisé pour stocker des jeux de données scientifiques. Un
fichier netCDF peut contenir plusieurs jeux de données. Ils peuvent différer par
la taille, le nombre de dimensions et peuvent représenter des données pour
différentes régions.</p>
<p>Si le fichier contient seulement un tableau netCDF et que celle-ci est une image,
elle peut être accédé directement mais si le fichier contient de multiples
images il peut être nécessaire d&#8217;importer le fichier via un processus en deux
étapes.</p>
<p>La première étape est d&#8217;obtenir un rapport des images qui composent le jeu de
données dans le fichier en utilisant <tt class="docutils literal"><span class="pre">gdalinfo</span></tt>, puis d&#8217;importer les images
désirées en utilisant <tt class="docutils literal"><span class="pre">gdal_translate</span></tt>. La commande <tt class="docutils literal"><span class="pre">gdalinfo</span></tt> liste tous
les sous-jeu de données  multidimensionnel à partir du fichier netCDF d&#8217;entrée.</p>
<p>Le nom des images individuelles sont assigné à l&#8217;entrée de méta-données
<em>SUBDATASET_n_NAME</em>. La description pour chaque image se trouve dans l&#8217;entrée
de méta-données <em>SUBDATASET_n_DESC</em>. Pour netCDF les images suivront ce format
: <em>NETCDF:filename:variable_name</em></p>
<p>où <em>filename</em> esy le nom du fichier en entrée, et <em>variable_name</em> est le jeu de
données sélectionné dans le fichier.</p>
<p>Pour la seconde étape vous fournissez ce nom pour <tt class="docutils literal"><span class="pre">gdalinfo</span></tt> pour obtenir les
informations sur le jeu de données ou <tt class="docutils literal"><span class="pre">gdal_translate</span></tt> pour lire le jeu de
données.</p>
<p>Par exemple, nous voulons lire les données d&#8217;un fichier NetCDF :</p>
<div class="highlight-python"><pre>$ gdalinfo sst.nc
Driver: netCDF/Network Common Data Format
Size is 512, 512
Coordinate System is `'
Metadata:
    NC_GLOBAL#title=IPSL  model output prepared for IPCC Fourth Assessment SRES A2 experiment
    NC_GLOBAL#institution=IPSL (Institut Pierre Simon Laplace, Paris, France)
    NC_GLOBAL#source=IPSL-CM4_v1 (2003) : atmosphere : LMDZ (IPSL-CM4_IPCC, 96x71x19) ; ocean ORCA2 (ipsl_cm4_v1_8, 2x2L31); sea ice LIM (ipsl_cm4_v
    NC_GLOBAL#contact=Sebastien Denvil, sebastien.denvil@ipsl.jussieu.fr
    NC_GLOBAL#project_id=IPCC Fourth Assessment
    NC_GLOBAL#table_id=Table O1 (13 November 2004)
    NC_GLOBAL#experiment_id=SRES A2 experiment
    NC_GLOBAL#realization=1
    NC_GLOBAL#cmor_version=9.600000e-01
    NC_GLOBAL#Conventions=CF-1.0
    NC_GLOBAL#history=YYYY/MM/JJ: data generated; YYYY/MM/JJ+1 data transformed  At 16:37:23 on 01/11/2005, CMOR rewrote data to comply with CF standards and IPCC Fourth Assessment requirements
    NC_GLOBAL#references=Dufresne et al, Journal of Climate, 2015, vol XX, p 136
    NC_GLOBAL#comment=Test drive
Subdatasets:
    SUBDATASET_1_NAME=NETCDF:"sst.nc":lon_bnds
    SUBDATASET_1_DESC=[180x2] lon_bnds (64-bit floating-point)
    SUBDATASET_2_NAME=NETCDF:"sst.nc":lat_bnds
    SUBDATASET_2_DESC=[170x2] lat_bnds (64-bit floating-point)
    SUBDATASET_3_NAME=NETCDF:"sst.nc":time_bnds
    SUBDATASET_3_DESC=[24x2] time_bnds (64-bit floating-point)
    SUBDATASET_4_NAME=NETCDF:"sst.nc":tos
    SUBDATASET_4_DESC=[24x170x180] sea_surface_temperature (32-bit floating-point)Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  512.0)
Upper Right (  512.0,    0.0)
Lower Right (  512.0,  512.0)
Center      (  256.0,  256.0)</pre>
</div>
<p>Ces fichiers NetCDF contiennent 4 jeux de données, <em>lon_bnds</em>, <em>lat_bnds</em>, <em>tim_bnds</em> et <em>tos</em>. Maintenant sélectionnez le sous-jeu de données, décrit comme :</p>
<div class="highlight-python"><pre>NETCDF:"sst.nc":tos

[24x17x180] sea_surface_temperature (32-bit floating-point)</pre>
</div>
<p>et obtenez l&#8217;information sur le nombre de bande qu&#8217;il y a à dans cette variable.</p>
<div class="highlight-python"><pre>$ gdalinfo NETCDF:"sst.nc":tos
Driver: netCDF/Network Common Data Format
Size is 180, 170
Coordinate System is `'
Origin = (1.000000,-79.500000)
Pixel Size = (1.98888889,0.99411765)
Metadata:
    NC_GLOBAL#title=IPSL  model output prepared for IPCC Fourth Assessment SRES A2 experiment
    NC_GLOBAL#institution=IPSL (Institut Pierre Simon Laplace, Paris, France)

.... D'autres métadonnées

    time#standard_name=time
    time#long_name=time
    time#units=days since 2001-1-1
    time#axis=T
    time#calendar=360_day
    time#bounds=time_bnds
    time#original_units=seconds since 2001-1-1
Corner Coordinates:
Upper Left  (   1.0000000, -79.5000000)
Lower Left  (   1.0000000,  89.5000000)
Upper Right (     359.000,     -79.500)
Lower Right (     359.000,      89.500)
Center      ( 180.0000000,   5.0000000)
    Band 1 Block=180x1 Type=Float32, ColorInterp=Undefined
    NoData Value=1e+20
    Metadata:
        NETCDF_VARNAME=tos
        NETCDF_DIMENSION_time=15
        NETCDF_time_units=days since 2001-1-1
Band 2 Block=180x1 Type=Float32, ColorInterp=Undefined
    NoData Value=1e+20
    Metadata:
        NETCDF_VARNAME=tos
        NETCDF_DIMENSION_time=45
        NETCDF_time_units=days since 2001-1-1

.... D'autres bandes

Band 22 Block=180x1 Type=Float32, ColorInterp=Undefined
    NoData Value=1e+20
    Metadata:
        NETCDF_VARNAME=tos
        NETCDF_DIMENSION_time=645
        NETCDF_time_units=days since 2001-1-1
Band 23 Block=180x1 Type=Float32, ColorInterp=Undefined
    NoData Value=1e+20
    Metadata:
        NETCDF_VARNAME=tos
        NETCDF_DIMENSION_time=675
        NETCDF_time_units=days since 2001-1-1
Band 24 Block=180x1 Type=Float32, ColorInterp=Undefined
    NoData Value=1e+20
    Metadata:
        NETCDF_VARNAME=tos
        NETCDF_DIMENSION_time=705
        NETCDF_time_units=days since 2001-1-1</pre>
</div>
<p><tt class="docutils literal"><span class="pre">gdalinfo</span></tt> affiche le nombre de bandes dans un sous-jeu de données. Il y a
des méta-données attachées à chaque bande. Dans cet exemple, les méta-données
indique que chaque bande corresponde à un tableau de température mensuelle de
la surface de la mer à partir de janvier 2001. Il y a 24 mois de données dans
ce sous-jeu de données. Vosu pouvez utiliser <tt class="docutils literal"><span class="pre">gdal_translate</span></tt> pour lire le
sous-jeu de données.</p>
<p>Notez que vous devez fournir exactement le contenu de la ligne noté
<em>SUBDATASET_n_NAME</em> à GDAL, incluant le préfixe <em>NETCDF:</em>.</p>
<p>Le préfixe <em>NETCDF:</em> doit être en premier. Il déclenche le pilote netCDF du
sous-jeu de données. Ce pilote a pour objectif seulement pour importer de
capteurs distant et des jeux de données géospatiales sous la forme d&#8217;image
raster. Si vous voulez explorer toutes les données contenues dans le fichier
NetCDF vous devez utiliser un autre outil.</p>
</div>
<div class="section" id="dimension">
<h2>Dimension<a class="headerlink" href="#dimension" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le pilote NetCDF suppose que les données suivent la convention CF-1 d&#8217;UNIDATA.
Les dimensions dans les fichiers NetCDF utilisent les règles suivantes :
(Z,Y,X). S&#8217;il y a plus de 3 dimensions, le pilote les fusionnera en bandes. Par
exemple si vous avez un tableau à 4 dimensions de type (P, T, Y, X). Le pilote
multipliera les 2 dernières dimensions (P*T). Le pilote affichera les bandes
dans l&#8217;ordre suivant. Il incrémentera d&#8217;abord T puis P. Les méta-données seront
affichées sur chaque bande avec ses valeurs T et P correspondantes.</p>
</div>
<div class="section" id="georeferencement">
<h2>Géoréférencement<a class="headerlink" href="#georeferencement" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il n&#8217;y a pas de manière universelle de stocker le géoréférencement dans les
fichiers netCDF. Le pilote tente d&#8217;abord de suivre la convention CF-1 à partir
d&#8217;UNIDATA en cherchant la méta-données nommé &#8220;<em>grid_mapping</em>&#8221;. Si
&#8220;<em>grid_mapping</em>&#8221; n&#8217;est pas présent, le pilote tentera de trouver un tableau de
grille lat/lon pour définir le tableau de géoréférencement. Le pilote NetCDF
vérifie que le tableau lat/lon est espacé équitablement.</p>
<p>Si ces deux méthodes échouent, le pilote NetCDF tentera de lire les méta-données
suivantes directement et définira un géoéréférencement.</p>
<ul class="simple">
<li>spatial_ref (Well Known Text)</li>
<li>GeoTransform (GeoTransform array)</li>
</ul>
<p>ou,</p>
<ul class="simple">
<li><em>Northernmost_Northing</em></li>
<li><em>Southernmost_Northing</em></li>
<li><em>Easternmost_Easting</em></li>
<li><em>Westernmost_Easting</em></li>
</ul>
</div>
<div class="section" id="problemes-de-creations">
<h2>Problèmes de créations<a class="headerlink" href="#problemes-de-creations" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce pilote gère la création de fichier netCDF en suivant la convention CF-1. Vous
pouvez créer des ensembles de jeux de données 2D. Chaque tableau de variable est
nommé Band1, Band2, ... BandN.</p>
<p>Chaque bande possédera des métadonnées liée en donnant une courte description
de la donnée qu&#8217;elel contient.</p>
</div>
<div class="section" id="meta-donnees-gdal-pour-netcdf">
<h2>Méta-données GDAL pour NetCDF<a class="headerlink" href="#meta-donnees-gdal-pour-netcdf" title="Lien permanent vers ce titre">¶</a></h2>
<p>Tous les attributs de netCDF sont traduits de manière transparente vers les
méta-données GDAL.</p>
<p>La traduction suit les règles suivantes :</p>
<ul class="simple">
<li>Les méta-données de NetCDF global ont une balise préfixé <em>NC_GLOBAL</em>.</li>
<li>Les méta-données du jeu de données ont leur noms de variable préfixés.</li>
<li>Chaque préfixe est suivie du signe #.</li>
<li>L&#8217;attribut NetCDF suit la forme : <em>name=value</em>.</li>
</ul>
<p>Exemple :</p>
<div class="highlight-python"><pre>$ gdalinfo NETCDF:"sst.nc":tos
Driver: netCDF/Network Common Data Format
Size is 180, 170
Coordinate System is `'
Origin = (1.000000,-79.500000)
Pixel Size = (1.98888889,0.99411765)
Metadata:</pre>
</div>
<p>Les attributs globaux de NetCDF :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">NC_GLOBAL</span><span class="c">#title=IPSL  model output prepared for IPCC Fourth Assessment SRES A2 experiment</span>
</pre></div>
</div>
<p>Les attributs des variables pour : tos, lon, lat et time</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">tos</span><span class="c">#standard_name=sea_surface_temperature</span>
<span class="n">tos</span><span class="c">#long_name=Sea Surface Temperature</span>
<span class="n">tos</span><span class="c">#units=K</span>
<span class="n">tos</span><span class="c">#cell_methods=time: mean (interval: 30 minutes)</span>
<span class="n">tos</span><span class="c">#_FillValue=1.000000e+20</span>
<span class="n">tos</span><span class="c">#missing_value=1.000000e+20</span>
<span class="n">tos</span><span class="c">#original_name=sosstsst</span>
<span class="n">tos</span><span class="c">#original_units=degC</span>
<span class="n">tos</span><span class="c">#history= At   16:37:23 on 01/11/2005: CMOR altered the data in the following ways: added 2.73150E+02 to yield output units;  Cyclical dimension was output starting at a different lon;</span>
<span class="n">lon</span><span class="c">#standard_name=longitude</span>
<span class="n">lon</span><span class="c">#long_name=longitude</span>
<span class="n">lon</span><span class="c">#units=degrees_east</span>
<span class="n">lon</span><span class="c">#axis=X</span>
<span class="n">lon</span><span class="c">#bounds=lon_bnds</span>
<span class="n">lon</span><span class="c">#original_units=degrees_east</span>
<span class="n">lat</span><span class="c">#standard_name=latitude</span>
<span class="n">lat</span><span class="c">#long_name=latitude</span>
<span class="n">lat</span><span class="c">#units=degrees_north</span>
<span class="n">lat</span><span class="c">#axis=Y</span>
<span class="n">lat</span><span class="c">#bounds=lat_bnds</span>
<span class="n">lat</span><span class="c">#original_units=degrees_north</span>
<span class="n">time</span><span class="c">#standard_name=time</span>
<span class="n">time</span><span class="c">#long_name=time</span>
<span class="n">time</span><span class="c">#units=days since 2001-1-1</span>
<span class="n">time</span><span class="c">#axis=T</span>
<span class="n">time</span><span class="c">#calendar=360_day</span>
<span class="n">time</span><span class="c">#bounds=time_bnds</span>
<span class="n">time</span><span class="c">#original_units=seconds since 2001-1-1</span>
</pre></div>
</div>
</div>
<div class="section" id="compilation-du-pilote">
<h2>Compilation du pilote<a class="headerlink" href="#compilation-du-pilote" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce pilote est compilé avec la bibliothèque netCDF d&#8217;UNIDATA.</p>
<p>Vous devez télécharger ou compiler la bibliothèque netCDF avant de configurer
GDAL avec la gestion de netCDF.</p>
<p>S&#8217;il vous plait, notez qu&#8217;avec CygWIN vous devez vous assurer que les DLL sont
éxécutable ou bien GDAL ne se lancera pas.</p>
<div class="highlight-python"><pre>chmod a+rx [NetCDF DLLs]</pre>
</div>
<p>Le répertoire des DLL de netCDF doit être dans votre <em>PATH</em>.</p>
</div>
<div class="section" id="voir-egalement">
<h2>Voir également<a class="headerlink" href="#voir-egalement" title="Lien permanent vers ce titre">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.cgd.ucar.edu/cms/eaton/cf-metadata/index.html">convention NetCDF CF-1.0</a></li>
<li><a class="reference external" href="http://www.unidata.ucar.edu/downloads/netcdf/index.jsp">Bibliothèque NetCDF compilé</a></li>
<li><a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/docs/">Documentation NetCDF</a></li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>


      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="nitf.html" title="NITF – National Imagery Transmission Format"
             >suivant</a></li>
        <li class="right" >
          <a href="msgn.html" title="MSGN – Meteosat Second Generation (MSG) Format Natif d’Archive (.nat)"
             >précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >GDAL</a> &raquo;</li>
          <li><a href="index.html" >Formats</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    <a href="http://creativecommons.org/licenses/by/2.0/fr/deed.fr">Licence Creative Common BY</a>
    <!--
      &copy; Copyright 2011, Yves Jacolin.-->
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>