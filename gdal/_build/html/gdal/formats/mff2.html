
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
    
    <title>MFF2 – Vexcel MFF2 Image &mdash; GDAL v1.9.0 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.9.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="top" title="GDAL v1.9.0 documentation" href="../../index.html" />
    <link rel="up" title="Formats" href="index.html" />
    <link rel="next" title="MrSID — Multi-resolution Seamless Image Database" href="mrsid.html" />
    <link rel="prev" title="MEM – In Memory Raster" href="mem.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="mrsid.html" title="MrSID — Multi-resolution Seamless Image Database"
             accesskey="N">suivant</a></li>
        <li class="right" >
          <a href="mem.html" title="MEM – In Memory Raster"
             accesskey="P">précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >GDAL</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Formats</a> &raquo;</li> 
      </ul>
    </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table des matières</a></h3>
            <ul>
<li><a class="reference internal" href="#">MFF2 &#8211; Vexcel MFF2 Image</a><ul>
<li><a class="reference internal" href="#details-du-format">Détails du format</a><ul>
<li><a class="reference internal" href="#structure-generale-du-mff2">Structure générale du MFF2</a></li>
<li><a class="reference internal" href="#le-fichier-attrib">Le fichier &#8220;attrib&#8221;</a></li>
<li><a class="reference internal" href="#le-fichier-image-data">Le fichier &#8220;image_data&#8221;</a></li>
<li><a class="reference internal" href="#le-fichier-georef">Le fichier &#8220;georef&#8221;</a></li>
<li><a class="reference internal" href="#projection-gerees">Projection gérées</a></li>
<li><a class="reference internal" href="#ellipsoides-reconnus">Ellipsoïdes reconnus</a></li>
<li><a class="reference internal" href="#explication-des-champs">Explication des champs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Sujet précédent</h4>
            <p class="topless"><a href="mem.html"
                                  title="Chapitre précédent">MEM &#8211; In Memory Raster</a></p>
            <h4>Sujet suivant</h4>
            <p class="topless"><a href="mrsid.html"
                                  title="Chapitre suivant">MrSID &#8212; Multi-resolution Seamless Image Database</a></p>
            <h3>Cette page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/gdal/formats/mff2.txt"
                     rel="nofollow">Montrer la source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Recherche rapide</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mff2-vexcel-mff2-image">
<span id="gdal-gdal-formats-mff2"></span><h1>MFF2 &#8211; Vexcel MFF2 Image<a class="headerlink" href="#mff2-vexcel-mff2-image" title="Lien permanent vers ce titre">¶</a></h1>
<p>GDAL gère le format de fichier raster Image MFF2 en lecture, mise à jour et
création. Le format MFF2 (Multi-File Format 2) a été définie pour s&#8217;ajuster
dans les bases de données Vexcel Hierarchical Key-Value (HKV), qui peut stocker
des données binaires ainsi que des paramètres ASCII. Ce format est d&#8217;abord
utilisé en interne dans le système de traitement Vexcel Insar.</p>
<p>Pour sélectionner un jeu de données MFF2, sélectionnez le répertoire contenant
les fichiers <em>attrib</em>, et <em>image_data</em> du jeu de données.</p>
<p>Pour l&#8217;instant seulement la latitude/longitude et la projection UTM sont gérés
(georef.projection.name = ll ou georef.projection.name = utm), par
transformation affine calculée à partir des points d&#8217;amer en lat/long. Pour
n&#8217;importe quelle action, si les points d&#8217;amer sont disponibles dans un fichier
de géoreférencement , ceux-ci sont renvoyés avec le jeu de données.
Les fichiers nouvellement crées (avec un type de MFF2) sont toujours des raster
brutes sans information de géoréférencement. pour la lecture et la création,
tous les types de données (réel, entier, et complexe avec une profondeur en bit
de 8, 16, 32) devraient être gérés.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Lors de la création d&#8217;un nouveau fichier MFF2, assurez-vous de définir la
projection avant de définir la transformation spatiale (cela est nécessaire
parce que la transformation spatiales est stockée en interne sous forme de
5 points d&#8217;amer au sol en latitude/longitude et la projection est nécessaire
à la conversion).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">implémenté dans gdal/frmts/raw/hkvdataset.cpp.</p>
</div>
<div class="section" id="details-du-format">
<h2>Détails du format<a class="headerlink" href="#details-du-format" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="structure-generale-du-mff2">
<h3>Structure générale du MFF2<a class="headerlink" href="#structure-generale-du-mff2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Un « fichier » MFF2 est en réalité un ensemble de fichiers stockés dans un
répertoire contenant un fichier d&#8217;en-tête ASCII nommé « attrib » et des données
d&#8217;image binaire nommé « image_data ».En option, il peut y avoir un fichier
« georef » ASCII contenant des informations de projection et de
géoréférencement, et un fichier « image_data_ovr » (pour les données image
binaire « image_data ») contenant les aperçus tuilés de l&#8217;image au format TIFF.
Les fichiers ASCII sont arrangés sous forme de pairs clé=valeur. Les pairs
autorisées pour chaque fichier sont décrites ci-dessous.</p>
</div>
<div class="section" id="le-fichier-attrib">
<h3>Le fichier &#8220;attrib&#8221;<a class="headerlink" href="#le-fichier-attrib" title="Lien permanent vers ce titre">¶</a></h3>
<p>Au minimum, le fichier « attrib » doit contenir l&#8217;étendue de l&#8217;image, la taille
en pixel en octets, l&#8217;encodage des pixels et le type des données, et l&#8217;ordre
des octets. Par exemple :</p>
<div class="highlight-python"><pre>extent.cols    = 800
extent.rows    = 1040
pixel.size     = 32
pixel.encoding = { unsigned twos_complement *ieee_754 }
pixel.field    = { *real complex }
pixel.order    = { lsbf *msbf }
version        = 1.1</pre>
</div>
<p>définie une image de 1040 lignes et 800 pixels pour l&#8217;étendue. Les pixels sont
des entiers de 32 bits dont l&#8217;ordre est « l&#8217;octet le plus significatif en
premier » (msbf), encodé selon la spécification ieee_754. Dans un MFF2,
lorsqu&#8217;une valeur appartient à un certain sous-ensemble (par exemple pixel.order
doit être soit lsbf ou msbf) toutes les options sont affichées entre crochets,
et celui approprié pour le fichier en cours est indiqué par une « * ».</p>
<p>Le fichier peut aussi contenir  les lignes suivantes indiquant le nombre de
canaux de données, et comment ils sont entrelacés à l&#8217;intérieur du fichier de
données binaire.</p>
<div class="highlight-python"><pre>channel.enumeration = 1
channel.interleave = { *pixel tile sequential }</pre>
</div>
</div>
<div class="section" id="le-fichier-image-data">
<h3>Le fichier &#8220;image_data&#8221;<a class="headerlink" href="#le-fichier-image-data" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le fichier « image_data » est constitué de données binaire brute avec une
étendue, l&#8217;encodage du pixel, et le nombre de canaux comme indiqué dans le
fichier « attrib ».</p>
</div>
<div class="section" id="le-fichier-georef">
<h3>Le fichier &#8220;georef&#8221;<a class="headerlink" href="#le-fichier-georef" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le fichier « georef » est utilisé pour décrire des informations de géocodage et
de projection pour les données binaires. Par exemple,</p>
<div class="highlight-python"><pre>top_left.latitude            = 32.93333333333334
top_left.longitude           = 130.0
top_right.latitude           = 32.93333333333334
top_right.longitude          = 130.5
bottom_left.latitude         = 32.50000000000001
bottom_left.longitude        = 130.0
bottom_right.latitude        = 32.50000000000001
bottom_right.longitude       = 130.5
centre.latitude              = 32.71666666666668
centre.longitude             = 130.25
projection.origin_longitude  = 0
projection.name              = ll
spheroid.name                = wgs-84*</pre>
</div>
<p>décrit un image projetée en latitude/longitude (ll) orthogonale, avec les
latitudes et longitudes basé sur l&#8217;ellipsoïde wgs-84.
Depuis la version 1.1 de MFF2, top_left renvoie au coin en haut à gauche du
pixel en haut à gauche. top_right renvoie au coin en haut à droite du pixel en
haut à droite. bottom_left renvoie au coin en bas à gauche du pixel en bas à
gauche. bottom_right renvoie au coin en bas à droite du pixel en bas à droite.
centre renvoie au centre des quatre coins définie plus haut (le centre de l&#8217;image).</p>
<p>Mathématiquement, pour une image Npix par Nline, les coins et le centre sous
forme de coordonnées (pixel,line) pour la version 1.1 de MFF2 sont :</p>
<div class="highlight-python"><pre>top_left: (0,0)
top_right: (Npix,0)
bottom_left: (0,Nline)
bottom_right: (Npix,Nline)
centre: (Npix/2.0,Nline/2.0)</pre>
</div>
<p>Ces calculs sont réalisé en virgule flottante (c&#8217;est à dire que les coordonnées
du centre peuvent prendre des valeurs non entières).</p>
<p>Remarquez que les coins sont toujours exprimé en latitude/longitude, même pour
les images projetées.</p>
</div>
<div class="section" id="projection-gerees">
<h3>Projection gérées<a class="headerlink" href="#projection-gerees" title="Lien permanent vers ce titre">¶</a></h3>
<p>image projetée latitude/longitude Orthogonal -ll, avec les latitudes parallèles
aux lignes et les longitudes parallèles aux colonnes. Paramètres : nom du
sphéroïde, projection, longitude d&#8217;origine (longitude à l&#8217;origine des coordonnées
de la projection). Si non définie, la valeur est par défaut la longitude central
de l&#8217;image en sortie basée sur ces limites de projection.</p>
<p>Image projeté en Universal Transverse Mercator – utm. Paramètres : nom du
sphéroïde, projection origine de la projection (méridien central pour la
projection utm). Le méridien centrale doit être le méridien au centre de la zone
UTM, par exemple 3 degré, 9 degré,  12 degré, etc. Si cela n&#8217;est pas définie ou
définie à un méridien central UTM valide, le lecteur doit annuler la valeur au
méridien central valide le plus proche basé sur la longitude centrale de l&#8217;image
en sortie. La latitude à l&#8217;origine, de la projection UTM est toujours de 0 degré.</p>
</div>
<div class="section" id="ellipsoides-reconnus">
<h3>Ellipsoïdes reconnus<a class="headerlink" href="#ellipsoides-reconnus" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le format MFF2 associe les noms suivants avec les paramètres du rayon à
l&#8217;équateur et le coefficient à l&#8217;aplatissement de l&#8217;ellipsoïde :</p>
<div class="highlight-python"><pre>airy-18304:            6377563.396      299.3249646
modified-airy4:        6377340.189      299.3249646
australian-national4:  6378160          298.25
bessel-1841-namibia4:  6377483.865      299.1528128
bessel-18414:          6377397.155      299.1528128
clarke-18584:          6378294.0        294.297
clarke-18664:          6378206.4        294.9786982
clarke-18804:          6378249.145      293.465
everest-india-18304:   6377276.345      300.8017
everest-sabah-sarawak4:6377298.556      300.8017
everest-india-19564:   6377301.243      300.8017
everest-malaysia-19694:6377295.664      300.8017
everest-malay-sing4:   6377304.063      300.8017
everest-pakistan4:     6377309.613      300.8017
modified-fisher-19604: 6378155          298.3
helmert-19064:         6378200          298.3
hough-19604:           6378270          297
hughes4:               6378273.0        298.279
indonesian-1974:       6378160          298.247
international-1924:    6378388          297
iugc-67:               6378160.0        298.254
iugc-75:               6378140.0        298.25298
krassovsky-1940:       6378245          298.3
kaula:                 6378165.0        292.308
grs-80:                6378137          298.257222101
south-american-1969:   6378160          298.25
wgs-72:                6378135          298.26
wgs-84:                6378137          298.257223563
ev-wgs-84:             6378137          298.252841
ev-bessel:             6377397          299.1976073</pre>
</div>
</div>
<div class="section" id="explication-des-champs">
<h3>Explication des champs<a class="headerlink" href="#explication-des-champs" title="Lien permanent vers ce titre">¶</a></h3>
<ul>
<li><p class="first"><strong>channel.enumeration :</strong>  (optionnelle seulement nécessaire pour les
multibandes) Nombre de canaux dedonnées (par exemple 3 pour rgb)</p>
</li>
<li><p class="first"><strong>channel.interleave = { *pixel tile sequential } :</strong> (optionnelle seulement
nécessaire pour les multibandes)
Pour des données multibandes, indique comment les canaux sont entrelacés. *pixel
indique des les données sont stockés en valeur de rouge, vert, bleu, rouge, vert,
bleu etc. par opposition à (ligne de valeurs rouge) (ligne de valeur de vert)
(ligne de valeur de bleu) ou (canal complet de rouge) (canal complet de vert)
(canal complet de bleu)</p>
</li>
<li><p class="first"><strong>extent.cols :</strong> nombre de colonne de données.</p>
</li>
<li><p class="first"><strong>extent.rows :</strong> nombre de ligne de données.</p>
</li>
<li><p class="first"><strong>pixel.encoding = { *unsigned twos-complement ieee-754 } :</strong> combiné avec
pixel.size et pixel.field pour donner le type de données :</p>
<div class="highlight-python"><pre>(encoding, field, size)- type
(unsigned, real, 8)- unsigned byte data
(unsigned, real, 16)- unsigned int 16 data
(unsigned, real, 32)- unsigned int 32 data
(twos-complement, real, 16)- signed int 16 data
(twos-complement, real, 32)- signed int 32 data
(twos-complement, complex, 64)- complex signed int 32 data
(ieee-754, real, 32)- real 32 bit floating point data
(ieee-754, real, 64)- real 64 bit floating point data
(ieee-754, complex, 64)- complex 32 bit floating point data
(ieee-754, complex, 128)- complex 64 bit floating point data</pre>
</div>
</li>
<li><p class="first"><strong>pixel.size :</strong> taille d&#8217;un pixel d&#8217;un canal (bits).</p>
</li>
<li><p class="first"><strong>pixel.field = { *real complex } :</strong> si la données est réelle ou complexe.</p>
</li>
<li><p class="first"><strong>pixel.order = { *lsbf msbf } :</strong> ordonnancement des bytes des données
(least ou most significant byte first).</p>
</li>
<li><p class="first"><strong>version :</strong> (seulement dans les versions récentes – si non présent, une
version plus vielle est présumé) Version de mff2.</p>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>


      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="mrsid.html" title="MrSID — Multi-resolution Seamless Image Database"
             >suivant</a></li>
        <li class="right" >
          <a href="mem.html" title="MEM – In Memory Raster"
             >précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >GDAL</a> &raquo;</li>
          <li><a href="index.html" >Formats</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    <a href="http://creativecommons.org/licenses/by/2.0/fr/deed.fr">Licence Creative Common BY</a>
    <!--
      &copy; Copyright 2011, Yves Jacolin.-->
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>