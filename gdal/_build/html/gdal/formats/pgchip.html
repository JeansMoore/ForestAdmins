
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
    
    <title>PGCHIP - Le pilote GDAL de Postgis pour les données raster &mdash; GDAL v1.9.0 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.9.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="top" title="GDAL v1.9.0 documentation" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li> 
      </ul>
    </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table des matières</a></h3>
            <ul>
<li><a class="reference internal" href="#">PGCHIP - Le pilote GDAL de Postgis pour les données raster</a><ul>
<li><a class="reference internal" href="#objectifs">Objectifs</a></li>
<li><a class="reference internal" href="#comment-postgis-gere-les-rasters">Comment PostGIS gère les rasters ?</a></li>
<li><a class="reference internal" href="#pourquoi-ne-pas-utliser-gdal-pour-developper-une-extension-complete-de-donnees-raster-au-sein-de-postgis">Pourquoi ne pas utliser GDAL pour développer une extension complète de données raster au sein de PostGIS ?</a></li>
<li><a class="reference internal" href="#restrictions-importantes-du-pilote">Restrictions importantes du pilote</a></li>
<li><a class="reference internal" href="#comment-j-installe-le-pilote-pgchip">Comment j&#8217;installe le pilote PGCHIP ?</a></li>
<li><a class="reference internal" href="#comment-puis-je-tester-le-pilote">Comment puis je tester le pilote ?</a></li>
<li><a class="reference internal" href="#todo-list">TODO List</a></li>
<li><a class="reference internal" href="#telechargement">Téléchargement</a></li>
<li><a class="reference internal" href="#information-sur-l-auteur-et-rapport-de-bug">Information sur l&#8217;auteur et rapport de bug</a></li>
</ul>
</li>
</ul>

            <h3>Cette page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/gdal/formats/pgchip.txt"
                     rel="nofollow">Montrer la source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Recherche rapide</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pgchip-le-pilote-gdal-de-postgis-pour-les-donnees-raster">
<span id="gdal-gdal-formats-pgchip"></span><h1>PGCHIP - Le pilote GDAL de Postgis pour les données raster<a class="headerlink" href="#pgchip-le-pilote-gdal-de-postgis-pour-les-donnees-raster" title="Lien permanent vers ce titre">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><strong>Ce pilote est en cours de développement !</strong></p>
</div>
<div class="section" id="objectifs">
<h2>Objectifs<a class="headerlink" href="#objectifs" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le but du pilote PGCHIP est de fournir une interface entre
<a class="reference external" href="http://gdal.org">GDAL</a> et Postgis. GDAL est une bibliothèque de traduction
pour les formats de données géospatiaux et <a class="reference external" href="http://www.postgis.org">Postgis</a>
une extension spatiale pour <a class="reference external" href="http://www.postgresql.org">PostgreSQL</a>, un système
de gestion de base de données open source relationnel. Ce projet n&#8217;est pas une
interface OGR à PostGIS, si vous recherchez cela (code orienté vecteur), vous
pouvez regarder le <em class="xref std std-ref">gdal.ogr.formats.postgresql</em>.</p>
</div>
<div class="section" id="comment-postgis-gere-les-rasters">
<h2>Comment PostGIS gère les rasters ?<a class="headerlink" href="#comment-postgis-gere-les-rasters" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il ne les gère pas. Cependant, un type spécial nommé CHIP existe dans les
sources de PostGIS. Quelques fonctions sont également disponible pour manipuler
des données qui pourraient être stockées dans un objet CHIP.</p>
</div>
<div class="section" id="pourquoi-ne-pas-utliser-gdal-pour-developper-une-extension-complete-de-donnees-raster-au-sein-de-postgis">
<h2>Pourquoi ne pas utliser GDAL pour développer une extension complète de données raster au sein de PostGIS ?<a class="headerlink" href="#pourquoi-ne-pas-utliser-gdal-pour-developper-une-extension-complete-de-donnees-raster-au-sein-de-postgis" title="Lien permanent vers ce titre">¶</a></h2>
<p>GDAL fournie une très bonne interface pour l&#8217;implémentation de pilote. Son
design permet un développement rapide et facile de nouveaux wrapper pour les
formats raster. De plus, les programmes en ligne de commande sont très
intéressantes pour tester le nouveau pilote et pour convertir des fichiers
raster dans le type de données CHIP de PostGIS. Ajouter la gestion du raster
dans PostGIS impliquerait de modifier ses sources pour optimiser la structure
et les fonction du type CHIP. Cependant, il serait certainement intéressant de
s&#8217;impliquer dans le développement de PostGIS pour déplacer certaines fonctions
du pilotes PGCHIP dans le moteur de base de données. Par ce moyen, nous gardons
les deux projets parfaitement indépendant.</p>
</div>
<div class="section" id="restrictions-importantes-du-pilote">
<h2>Restrictions importantes du pilote<a class="headerlink" href="#restrictions-importantes-du-pilote" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li>Le pilote PGCHIP est en cours de développement ce qui signifie qu&#8217;il n&#8217;a pas
été entièrement testé et aucune version stable n&#8217;est téléchargeable.</li>
<li>Le pilote gère seulement les types <em>GDT_Byte</em> et <em>GDT_UInt16</em> et gère 1 ou 4
bandes (GREY_SCALE, PALETTE et RGBA)</li>
<li>Le nom de la colonne pour le type CHIP n&#8217;est pas encore modifiable et est
définie à &#8220;raster&#8221; par défaut.</li>
<li>Dans le but de définir la base de données à laquelle vous voulez vous
connecter, vous devez définir la chaîne de connection. Les différents
paramètres de connection (host,port,dbname) doivent être délimités avec un
caractère &#8220;#&#8221;. Le nom de la couche PostGIS doit apparaître à la fin de la
chaîne après un argument &#8220;%layer=&#8221;. Exemple :</li>
</ul>
<div class="highlight-python"><pre>$ gdalinfo PG:host=192.168.1.1#dbname=mydb%layer=myRasterTable</pre>
</div>
</div>
<div class="section" id="comment-j-installe-le-pilote-pgchip">
<h2>Comment j&#8217;installe le pilote PGCHIP ?<a class="headerlink" href="#comment-j-installe-le-pilote-pgchip" title="Lien permanent vers ce titre">¶</a></h2>
<p><strong>Nécessité :</strong></p>
<ul class="simple">
<li>Assurez vous d&#8217;avoir une installation complète à partir des sources
PostgreSQL/Postgis claire ;</li>
<li>Vous devez aussi avoir Proj4 installé et configuré dans PostGIS pour que le
pilote fonctionne.</li>
</ul>
<p><strong>Notes d&#8217;installation :</strong></p>
<ul class="simple">
<li>Allez dans le répertoire <em>frmts</em> dans l&#8217;arborescence des sources de GDAL.</li>
<li>Décompressez l&#8217;archive <em>pgchip</em> dans le répertoire <em>frmts</em>.</li>
<li>Éditez GNUMakefile poru définir le chemin include de Postgis.</li>
<li>Ajoutez les déclaration de points d&#8217;entrées d&#8217;enregistrement :<ul>
<li>Ouvrez <em>gdal/gcore/gdal_frmts.h</em></li>
<li>Ajoutez &#8220;void CPL_DLL GDALRegister_PGCHIP(void);&#8221; entre the CPL_C_START et CPL_C_END tags</li>
</ul>
</li>
<li>Ajoutez un appel à la fonction d&#8217;entregistrement dans <em>frmts/gdalallregister.c</em>. Dans la fonction <em>GDALAllRegister()</em> ajoutez les lignes suivantes :</li>
</ul>
<div class="highlight-python"><pre>#ifdef FRMT_pgchip
    GDALRegister_PGCHIP();
#endif</pre>
</div>
<ul class="simple">
<li>Ajoutez le nom du format court à la macro <em>GDAL_FORMATS</em> dans <em>GDALmake.opt.in</em> (et dans <em>GDALmake.opt</em>) :<ul>
<li>Localisez y la variable <em>GDAL_FORMATS</em> et ajoutez &#8220;pgchip&#8221; (en minuscule) à la liste des formats ;</li>
</ul>
</li>
<li>Ajouter une entrée spécifique au format à la macro EXTRAFLAGS dans <em>frmts/makefile.vc</em> ;</li>
<li>Recompiler votre bibliothèque GDAL :<ul>
<li><tt class="docutils literal"><span class="pre">make</span> <span class="pre">clean</span></tt></li>
<li><tt class="docutils literal"><span class="pre">./configure</span></tt></li>
<li><tt class="docutils literal"><span class="pre">make</span></tt></li>
<li><tt class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></tt></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="comment-puis-je-tester-le-pilote">
<h2>Comment puis je tester le pilote ?<a class="headerlink" href="#comment-puis-je-tester-le-pilote" title="Lien permanent vers ce titre">¶</a></h2>
<p>Vous pouvez choisir de compiler votre propre application en utilisant
l&#8217;<a class="reference external" href="http://gdal.maptools.org/gdal_tutorial.html">API</a> ou utiliser les
<a class="reference internal" href="../presentation.html#gdal-gdal-presentation"><em>Utilitaires GDAL</em></a>. Quelques exemples :</p>
<div class="highlight-python"><pre>$ gdaltranslate -of pgchip /DATA/myRaster.png PG:host=192.168.1.1#dbname=mydb%layer=myRasterTable</pre>
</div>
<p>Cette ligne de commande créera une table nommée <em>myRasterTable</em> et y copiera
les données raster. Vous pouvez vouloir exporter le nouvel raster inséré dans
un autre format :</p>
<div class="highlight-python"><pre>$ gdaltranslate -of bmp  PG:host=192.168.1.1#dbname=mydb%layer=myRasterTable /DATA/myRaster.bmp</pre>
</div>
</div>
<div class="section" id="todo-list">
<h2>TODO List<a class="headerlink" href="#todo-list" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li>Tester la compatibilité du pilote avec différents formats raster ;</li>
<li>Modifier la chaîne de connection pour faire face avec le nom de la colonne raster ;</li>
<li>Améliorer le nombre de couleur des options d&#8217;interprétations ;</li>
<li>Augmenter le nombre de types de données et de matrice de géotransformation gérés ;</li>
<li>Améliorer la conversion du SRID ;</li>
<li>Test du makefile.vc (Visual C) ;</li>
<li>...</li>
</ul>
</div>
<div class="section" id="telechargement">
<h2>Téléchargement<a class="headerlink" href="#telechargement" title="Lien permanent vers ce titre">¶</a></h2>
<p><a class="reference external" href="http://simon.benjamin.free.fr/pgchip/download.php">pgchip-1.1.tar.gz</a></p>
</div>
<div class="section" id="information-sur-l-auteur-et-rapport-de-bug">
<h2>Information sur l&#8217;auteur et rapport de bug<a class="headerlink" href="#information-sur-l-auteur-et-rapport-de-bug" title="Lien permanent vers ce titre">¶</a></h2>
<blockquote>
<div>simon (dot) benjamin (at) free (dot) fr</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>


      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    <a href="http://creativecommons.org/licenses/by/2.0/fr/deed.fr">Licence Creative Common BY</a>
    <!--
      &copy; Copyright 2011, Yves Jacolin.-->
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>