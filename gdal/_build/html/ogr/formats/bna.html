
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
    
    <title>BNA - Atlas BNA &mdash; GDAL v1.9.0 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.9.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="top" title="GDAL v1.9.0 documentation" href="../../index.html" />
    <link rel="up" title="Formats vecteur d’OGR" href="index.html" />
    <link rel="next" title="CouchDB - CouchDB/GeoCouch" href="couchdb.html" />
    <link rel="prev" title="Couverture Arc/Info E00 (ASCII)" href="avce00.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="couchdb.html" title="CouchDB - CouchDB/GeoCouch"
             accesskey="N">suivant</a></li>
        <li class="right" >
          <a href="avce00.html" title="Couverture Arc/Info E00 (ASCII)"
             accesskey="P">précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >OGR</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Formats vecteur d&#8217;OGR</a> &raquo;</li> 
      </ul>
    </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table des matières</a></h3>
            <ul>
<li><a class="reference internal" href="#">BNA - Atlas BNA</a><ul>
<li><a class="reference internal" href="#problemes-lors-de-la-creation">Problèmes lors de la création</a></li>
<li><a class="reference internal" href="#exemple">Exemple</a></li>
<li><a class="reference internal" href="#voir-egalement">Voir également</a></li>
</ul>
</li>
</ul>

            <h4>Sujet précédent</h4>
            <p class="topless"><a href="avce00.html"
                                  title="Chapitre précédent">Couverture Arc/Info E00 (ASCII)</a></p>
            <h4>Sujet suivant</h4>
            <p class="topless"><a href="couchdb.html"
                                  title="Chapitre suivant">CouchDB - CouchDB/GeoCouch</a></p>
            <h3>Cette page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/ogr/formats/bna.txt"
                     rel="nofollow">Montrer la source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Recherche rapide</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="bna-atlas-bna">
<span id="gdal-ogr-formats-bna"></span><h1>BNA - Atlas BNA<a class="headerlink" href="#bna-atlas-bna" title="Lien permanent vers ce titre">¶</a></h1>
<p>Le format BNA est un format d&#8217;échange ASCII pour les données vecteurs 2D géré
par plusieurs applications. Il contient seulement les géométries et quelques
identifiants par enregistrement. Les attributs doivent être stockés dans des
fichiers externes. Il ne gère pas les informations du système de coordonnées.</p>
<p>OGR gère la lecture et l&#8217;écriture au format BNA.</p>
<p>Le pilote OGR gère la lecture et l&#8217;écriture de tous les types de géométrie du
format BNA :</p>
<ul class="simple">
<li>points</li>
<li>polygones</li>
<li>lignes</li>
<li>ellipses/cercles</li>
</ul>
<p>Comme le format BNA n&#8217;a pas de spécification formelle, il peut y avoir plusieurs
formes de fichiers de données BNA. Le pilote OGR fait de son mieux pour lire les
jeux de données BNA et gérer les formats d&#8217;enregistrements en simple ou
multi-ligne, les enregistrements avec 2, 3 ou 4 identifiants, etc. Si vous avez
un fichier de données BNA qui ne peut être lu correctement par le pilote BNA,
s&#8217;il vous plait créer un rapport de bug sur le système de suivi de GDAL.</p>
<p>Pour être reconnue comme BNA, l&#8217;extension du fichier doit être &#8221;.bna&#8221;. Lors de
la lecture d&#8217;un fichier BNA, le pilote le scannera entièrement pour retrouver
quelles couches sont disponibles. Si le nom du fichier est foo.bna, les couches
seront nommées <em>foo_points</em>, <em>foo_polygons</em>, <em>foo_lines</em> et <em>foo_ellipses</em>.</p>
<p>Le pilote BNA gère la lecture des polygones avec des trous ou des iles. Il
détermine ce qui est un trou ou une île seulement par analyse géométrique (tests
d&#8217;inclusion, de non-intersection) et ignore complètement la notion de polygone
&#8220;sinueux&#8221; (polygon winding) (si les bords d&#8217;un polygone sont décrits dans le
sens des aiguilles d&#8217;une montre ou à l&#8217;inverse). GDAL doit être compilé avec
GEOS pour permettre ces tests. Les polygones sont présentés comme des
multipolygones dans le modèle Simple Feature d&#8217;OGR.</p>
<p>Les ellipses et cercles sont transformés en polygone avec 360 points.</p>
<div class="section" id="problemes-lors-de-la-creation">
<h2>Problèmes lors de la création<a class="headerlink" href="#problemes-lors-de-la-creation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Lors de l&#8217;export, toutes les couches sont écrites dans un seul fichier BNA. La
mise à jour de fichiers existants n&#8217;est pas gérée pour l&#8217;instant.</p>
<p>Si le fichier en sortie existe déjà, l&#8217;écriture n&#8217;aura pas lieu. Vous devez
supprimer le fichier existant d&#8217;abord.</p>
<p>Le créateur BNA gère les options de création suivantes (options de jeu de
données) :</p>
<ul class="simple">
<li><strong>LINEFORMAT :</strong> par défaut, lors de la création de nouveaux fichiers ceux-ci
sont créés avec la convention de fin de ligne de la plate-forme local (CR/LF
sur win32 ou LF on sur tous les autres systèmes). Cela peut être écrasée par
l&#8217;utilisation de l&#8217;option de création de couche <em>LINEFORMAT</em> qui peut avoir
une valeur CRLF (format DOS) ou LF (format Unix).</li>
<li><strong>MULTILINE :</strong> par défaut, les fichier BNA sont créés au format multiligne
(pour chaque enregistrement, la première ligne contient les identifiants et
le type/nombre de coordonnées à suivre. Les lignes suivantes contiennent une
paire de coordonnées). Cela peut être écrasée à travers l&#8217;utilisation de
<em>MULTILINE=NO</em>.</li>
<li><strong>NB_IDS :</strong> les enregistrements BNA peuvent contenir de 2 à 4 identifiants
par enregistrement. Certaines applications gère seulement un nombre
d&#8217;identifiants précis. Vous pouvez écraser la valeur par défaut (2) par une
valeur précise : 2,3 ou 4, ou <em>NB_SOURCE_FIELDS</em>. <em>NB_SOURCE_FIELDS</em> signifie
que le fichier en sortie contiendra le même nombre d&#8217;identifiants que les
objets écrits (fixé entre 2 et 4).</li>
<li><strong>ELLIPSES_AS_ELLIPSES :</strong> Le <em>writer</em> BNA tentera de reconnaitre les
ellipses et les cercles lors de l&#8217;écriture des polygones. Cela fonctionnera
seulement si l&#8217;objet a été précédemment lu à partir d&#8217;un fichier BNA. Comme
certaine application ne gère pas les cercles/ellipses dans un fichier de
données BNA, il peut être utile de demander au <em>writer</em> en spécifiant
<em>ELLIPSES_AS_ELLIPSES=NO</em> de ne pas les exporter tel quel, mais de les
laisser sous forme de polygones.</li>
<li><strong>NB_PAIRS_PER_LINE :</strong> cette option peut être utilisée pour limiter le
nombre de paires de coordonnées par ligne dans le format multiligne.</li>
<li><strong>COORDINATE_PRECISION :</strong> cette option peut être utilisée pour définir le
nombre de décimal pour les coordonnés. 10 par défaut.</li>
</ul>
</div>
<div class="section" id="exemple">
<h2>Exemple<a class="headerlink" href="#exemple" title="Lien permanent vers ce titre">¶</a></h2>
<p>La commande &#8216;&#8217;ogrinfo&#8217;&#8217; peut être utilisée pour faire un dump du contenu des fichiers de données BNA :</p>
<div class="highlight-python"><pre>ogrinfo -ro -al a_bna_file.bna</pre>
</div>
<p>La commande &#8216;&#8217;ogr2ogr&#8217;&#8217; peut être utilisée pour réaliser une traduction du format BNA vers le format BNA :</p>
<div class="highlight-python"><pre>ogr2ogr -f BNA -dsco "NB_IDS=2" -dsco "ELLIPSES_AS_ELLIPSES=NO" output.bna input.bna</pre>
</div>
</div>
<div class="section" id="voir-egalement">
<h2>Voir également<a class="headerlink" href="#voir-egalement" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.softwright.com/faq/support/boundary_file_bna_format.html">Description du format de fichier BNA</a></li>
<li><a class="reference external" href="http://64.145.236.125/forum/topic.asp?topic_id=1930&amp;forum_id=1&amp;Topic_Title=how+to+edit+*.bna+files%3F&amp;forum_title=Surfer+Support&amp;M=False">Une autre description du format de fichier BNA</a></li>
<li><a class="reference external" href="http://sedac.ciesin.org/plue/cenguide.html">Archive des produits lié à Census (ACRP)</a>
: téléchargement de jeu de données BNA de fichier de limite basé sur des
fichiers TIGER 1992 contenant les géographies des États-Unis</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>


      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="couchdb.html" title="CouchDB - CouchDB/GeoCouch"
             >suivant</a></li>
        <li class="right" >
          <a href="avce00.html" title="Couverture Arc/Info E00 (ASCII)"
             >précédent</a> |</li>
        <li><a href="../../index.html">GDAL v1.9.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >OGR</a> &raquo;</li>
          <li><a href="index.html" >Formats vecteur d&#8217;OGR</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    <a href="http://creativecommons.org/licenses/by/2.0/fr/deed.fr">Licence Creative Common BY</a>
    <!--
      &copy; Copyright 2011, Yves Jacolin.-->
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>